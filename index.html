<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Taller de RMarkdown</title>
    <meta charset="utf-8" />
    <meta name="author" content="Evelyn Gutierrez" />
    <meta name="date" content="2022-01-25" />
    <script src="index_files/header-attrs-2.11.4/header-attrs.js"></script>
    <link href="index_files/remark-css-0.0.1/rladies.css" rel="stylesheet" />
    <link href="index_files/remark-css-0.0.1/rladies-fonts.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="my-slides-style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Taller de RMarkdown
### Evelyn Gutierrez
### 2022-01-25

---




# Comandos para la tabla de contenidos (_toc_)

- Presionar **t** para mostrar u ocultar la _toc_ .

&lt;br&gt;

- Presionar **s** para mostrar u ocultar la _toc_, tras 
  haberla insertado en el espacio vac√≠o izquierdo que dejan
  estas diapositivas de Xaringan, en caso exista aquel espacio vac√≠o.

---

# Motivaci√≥n - Rmd

Multiples opciones de publicaciones con RMarkdown:

* Reportes. [Ejemplo](https://rpubs.com/verawaty77/covid_ts)
* Repositorio de conocimientos [Aibnb.](https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1392362?journalCode=utas20)
* Tareas acad√©micas en [Rpubs](https://rpubs.com/).
* Correos personalizados [Mine √áetinkaya-Rundel](https://rmarkdown.rstudio.com/articles_mail_merge.html). 
* Dashboards en [eelloo](https://www.eelloo.nl/wp-content/uploads/2017/08/infographic_Voorbeelden-infographics-Overzicht.pdf).
* Esta p√°gina web. 

---

# Objetivos

&lt;!-- 
Themes for slidify: https://codingclubuc3m.rbind.io/post/2019-09-24/
--&gt;

&lt;div style="position: absolute; top: 20; right: 0;"&gt;
&lt;img src="images/rmarkdown.png" width=50%/&gt;
&lt;/div&gt;

- Familiarizarse con el entorno de RStudio para crear reportes.

- Comprender la estructura de un documento R Markdown.

- Comprender los diferentes formatos y los ajustes b√°sicos.

- Aprender los fundamentos de la sintaxis de Markdown.

- Aprender a estructurar un documento .rmd para compilarlo en diferentes formatos.

- Aprender a compartir su documento online en RPubs.

&lt;!--
# 1. Objetivos

## Lo que no haremos:

- LaTeX para compilar documentos pdf: requiere la instalaci√≥n de una distribuci√≥n de TeX como [MiKTeX](http://miktex.org/download), [TinyTeX](https://yihui.name/tinytex/)...

- Git y Github para guardar c√≥digo y compartirlo en l√≠nea
 
- **Aprender R!**
--&gt;
 
---

# Lo que necesitamos (como m√≠nimo)

&lt;br&gt;

- [R](https://cran.r-project.org/bin/windows/base/)
- [RStudio](https://rstudio.com/products/rstudio/download/) 
- Paquetes y utilidades de RStudio:
  - [knitr](https://cran.r-project.org/web/packages/knitr/index.html)
  - [R Markdown](https://rmarkdown.rstudio.com/)
  - [Pandoc](https://rmarkdown.rstudio.com/docs/articles/pandoc.html)


---

# **RStudio**  

&lt;br&gt;

- La interfaz b√°sica de **R** no es muy intuitiva. Por esta raz√≥n no se usa mucho y se prefiere un *IDE*.

&lt;center&gt;

&lt;img src="images/screenshotR.png"&gt;
&lt;/center&gt;  

&lt;br&gt;

- Un IDE, *Integrated Development Environment*: un editor de scripts - es un entorno mucho m√°s amigable que facilita el trabajo (gesti√≥n de archivos, objetos y comandos, historial de funciones, autocompletado,...)
- El IDE m√°s utilizado es **RStudio** (pero hay otros como **Tinn-R** o **jamovi**).
- Los comandos y funciones son los mismos para **R** y **RStudio**.

---

# Instalaci√≥n  

1. Descargar e instalar [**R b√°sico**](https://cran.r-project.org/) - Elija su sistema operativo y siga los pasos.

2. Descargar e instalar [**RStudio**](https://www.rstudio.com/products/rstudio/download/#download) (u otra interfaz) - Elija la versi√≥n gratuita y su sistema operativo.

3. Verificar si tienes los paquetes (*package*): *rmarkdown* y *knitr* en **RStudio**:

En la consola de R, utilizar lo siguiente:

.scrollable[

```r
find.package(c("rmarkdown","knitr"))
```

```
## [1] "C:/Users/HP/Documents/R/win-library/4.0/rmarkdown" "C:/Users/HP/Documents/R/win-library/4.0/knitr"
```
]

Si no lo tiene, puedes instalarlos con los siguiente comandos. 

En la consola de R, utilizar lo siguiente:

```r
install.packages("rmarkdown")
install.packages("knitr")
```

&lt;br&gt;

&lt;!--
- A tener en cuenta:

    + No hay actualizaciones autom√°ticas, hay que instalar una nueva versi√≥n y volver a descargar los *paquetes* (o mover el directorio de la versi√≥n antigua y hacer `update.packages`). **RStudio** se ajustar√° por defecto a la versi√≥n m√°s reciente de la m√°quina (puede hacerse manualmente). La versi√≥n antigua se puede desinstalar. Se recomienda actualizar la versi√≥n de R y RStudio anualmente.
    + Algunas utilidades m√°s especializadas pueden requerir la instalaci√≥n de herramientas adicionales como [*RTools* (Windows) y *LaTeX*](http://cran.r-project.org/doc/manuals/R-admin.html#The-Windows-toolset).
    + Paquete √∫til para actualizar R y otras herramientas en Windows a trav√©s de RStudio: `installr`.
--&gt;

&lt;!--

# ¬øQu√© es un paquete o *package*? 

&lt;br&gt;

- Un *paquete* es un m√≥dulo (o extensi√≥n, biblioteca) que contiene un conjunto de funciones (a menudo relacionadas con un m√©todo o dominio particular)

- En la instalaci√≥n, **R** viene con un conjunto de funciones b√°sicas {base} y m√≥dulos por defecto (*built-in packages*).

- La comunidad desarrolla constantemente *paquetes* de funciones especializadas.

- Hay m√°s de 15.000 en el sitio web oficial de **R** [CRAN](https://cran.r-project.org/web/packages/). Tambi√©n se pueden encontrar otros en otros lugares (Github, por ejemplo).

- Los paquetes deben ser **descargados** (`install.packages()` o pueden ser instalados a trav√©s del men√∫ superior de RStudio *Tools&gt;Install packages...*). Solo es necesario instalarlos una vez; sin embargo, se deber√°n **cargar** (`library()` o `require()`) cada sesi√≥n que se quieran utilizar.

- Una funci√≥n (por ejemplo, correlaci√≥n, tablas de contingencia...) puede encontrarse en varios paquetes con variantes m√°s o menos importantes (procedimientos, opciones, argumentos, resultados).

- Los paquetes tambi√©n deben actualizarse peri√≥dicamente. Esto se puede realizar a trav√©s de: *Tools&gt;Check for package updates...*.

--&gt;

---

# ¬øQu√© es R Markdown y por qu√© utilizarlo?

&lt;!--![](images/r-m.png)--&gt;

&gt; R + Markdown = RMarkdown

- R Markdown es un paquete instalado por defecto en RStudio.

- Es una herramienta creada para asegurar la **reproducibilidad** de un an√°lisis o una investigaci√≥n integrando en un √∫nico documento el texto en Markdown, el c√≥digo (R u otro) y los resultados de su an√°lisis.

- Evita todos los pasos de copiar y pegar tablas, gr√°ficos, im√°gees, y crea documentos o presentaciones f√°ciles de actualizar en diferentes formatos: word, pdf, ppt, html, etc.

- Est√° optimizado para la creaci√≥n de documentos html (formato que se beneficia de las opciones m√°s interesantes).

---

# ¬øQu√© es R Markdown y por qu√© utilizarlo?

&lt;br&gt;

&lt;img src="images/formatexport.png" width=80%&gt;

---

# ¬øC√≥mo funciona?

R Markdown combina diferentes procesos para crear documentos en diferentes formatos a partir de un √∫nico archivo:

&lt;center&gt;
&lt;img src="images/workflow.png" width=75%&gt;
&lt;/center&gt;

---

# ¬øC√≥mo funciona?

- Todo comienza con la creaci√≥n de un documento **.Rmd** en RStudio. Un archivo R Markdown es un simple archivo de texto con una extensi√≥n .Rmd (puede crearlo en el Bloc de notas).

- Para generar un reporte, en RStudio utilice el bot√≥n knit que activa la funci√≥n `rmarkdown::render()` y ejecuta los bloques de c√≥digo en el archivo **.Rmd** para incluirlos en el documento final. Estos resultados se convierten en un archivo temporal .md (que contiene el c√≥digo y los resultados).


&lt;!--
- Este es un bloque de c√≥digo para compilar un documento y establecer el formato de salida con el argumento *output_format* de la funci√≥n `render`:


```r
library(rmarkdown)
render("1-example.Rmd", output_format = "word_document") 
```

- A continuaci√≥n, este archivo **.md** es procesado por la herramienta *Pandoc*, que permite convertir el contenido de un lenguaje de marcas (*markup*) en diferentes formatos ("navaja suiza" de la conversi√≥n de formatos de documentos). Los par√°metros de conversi√≥n se especifican en la cabecera **YAML** del documento **.Rmd**, donde entre otras cosas se especifica el formato final.

- Si el formato final deseado es pdf, se a√±ade un paso de procesamiento adicional: *Pandoc* transformar√° el archivo **.md** en otro archivo intermedio .tex. Este archivo .tex ser√° luego procesado por *LaTeX* en su forma final de pdf. 
--&gt;

&lt;!-- 
- Tenga en cuenta que *LaTeX* es una herramienta muy poderosa para estructurar documentos, pero esta personalizaci√≥n espec√≠fica para pdf significa que se pierde la flexibilidad multiformato de Markdown.
--&gt;

---

# ¬øC√≥mo creo un nuevo Rmd?

Creaci√≥n de un Rmd en RStudio üê£:

&lt;img src="images/crear_mkd.png" width=40%&gt;

üë©‚Äçüíª üë®‚Äçüíª Ejercicio 1: Crear y compilar un Rmd

---

# Formatos de salida

1. **Formatos de documentos:**
    - html_document
    - odt_document
    - rtf_document
    - word_document
    - github_document
    - md_document
    - pdf_document  (LaTeX/pdf)
    - latex_document (LaTeX/pdf)
    - beamer_presentation (LaTeX/pdf)
    
2. **Formatos de presentaci√≥n:**
    - ioslides_presentation (*slides html*)
    - slidy_presentation (*slides html*)
    - revealjs::revealjs_presentation (*slides html + js*)
    - powerpoint_presentation 

---

# Formatos de salida

**Opcional:**
Para crear archivos PDF utilizando RMarkdown, necesitaremos tener instalado una distribuci√≥n de LaTeX. Si no tienes instalado LateX, recomendamos instalar [TinyTeX](https://yihui.org/tinytex/).

En la consola de R, utilizar lo siguiente:


```r
install.packages('tinytex')
tinytex::install_tinytex()  # Instala TinyTeX
```

TinyTex es una distribuci√≥n ligera de LaTex. Sin embargo, esta instalaci√≥n podr√≠a demorar seg√∫n tu conexi√≥n a internet.

---

# Formatos de salida

Hay un gran n√∫mero de *paquetes* y *plantillas* para crear diferentes tipos de documentos con una amplia variedad de estilos predefinidos: plantillas de presentaci√≥n, art√≠culos period√≠sticos, libros, tesis, sitios web, blogs, widgets, cuadros de mando, mapas y otras presentaciones interactivas...

  - Ver [galeria](https://rmarkdown.rstudio.com/gallery.html)
  - Algunos  de los m√°s conocidos:
    -  [prettydoc](https://github.com/yixuan/prettydoc/)
    -  [bookdown](https://bookdown.org/yihui/bookdown/)
    -  [blogdown](https://bookdown.org/yihui/blogdown/)
    -  [distill](https://github.com/rstudio/distill)
    -  [xaringan](https://bookdown.org/yihui/rmarkdown/xaringan-format.html)
    -  [flexdashboard](https://rmarkdown.rstudio.com/flexdashboard/)
    -  [rmdshower](http://mangothecat.github.io/rmdshower/skeleton.html)
    -  [vitae](https://github.com/mitchelloharawild/vitae)

- Hay que tener en cuenta que el uso de estas diferentes herramientas requiere el aprendizaje de una configuraci√≥n/etiquetado particular que puede ir en detrimento de la interoperabilidad de los formatos.

- Tambi√©n puede crear sus propias [plantillas](https://rstudio.github.io/rstudio-extensions/rmarkdown_templates.html) y [estilo de documento](https://bookdown.org/yihui/rmarkdown/word-document.html)
  
üë©‚Äçüíª üë®‚Äçüíª Ejercicio 2: a√±adir un tema de [prettydoc](https://github.com/yixuan/prettydoc/) al Rmd.
 
---

# Estructura de un documento RMarkdown

Contiene 3 partes:

  1. Un encabezado de metadatos (*encabezado YAML*): encabezado escrito en [**YAML**](https://en.wikipedia.org/wiki/YAML) rodeado por 3 guiones.
  2. Texto: formateado en markdown.
  3. Bloques de c√≥digo:&lt;br&gt;
    *c√≥digos* encerrados entre triple tilde invertida (acentos agudos) 
  
  ````text
  ```
  ````
  (Para crearlos rapidamente se puede usar *ctrl +alt + i*).
 
&lt;img src="images/estructura.png" width=75%&gt;

---

# Estructura de un documento RMarkdown

&lt;p style="margin-bottom: -20px;"&gt; &amp;nbsp; &lt;/p&gt;

&lt;img src="images/bloques.png" width=100%&gt;

---

# Metadatos

- Metadatos b√°sicos y campos de Ouput para definir el formato y sus opciones para configurar la presentaci√≥n final
- Sintaxis [YAML](https://en.wikipedia.org/wiki/YAML) 

&lt;img src="images/yaml_ejemplo.png" width=100%&gt;

- Cada [formato de salida](https://rmarkdown.rstudio.com/formats.html) tiene opciones espec√≠ficas para personalizar la presentaci√≥n final con argumentos como subvalores del campo *output*: (las subopciones deben estar con sangr√≠a).
- Para saber cu√°les son estas opciones, consultar la ayuda: `?rmarkdown::html_document`.
- Si un formato de salida es proporcionado por un paquete en espec√≠fico, debe ser nombrado en el campo YAML `output: tufte::tufte_html`.

---

# Metadatos

Tambi√©n es posible controlar el formato del documento final utilizando las opciones del men√∫ **knit** de RStudio. El encabezado YAML se modificar√°n autom√°ticamente.

&lt;img src="images/options.png" width="83%"&gt;

---

# Texto con formato Markdown

## Sobre Markdown

- [Markdown](https://daringfireball.net/projects/markdown/syntax) es un lenguaje de marcado, una versi√≥n simplificada de html, creado por John Gruber en 2004.

- Se utiliza para estructurar contenidos textuales y producir documentos a partir de texto plano etiquetado.

&gt;Markdown refleja la filosof√≠a del estoicismo: el "mundo natural" consiste en texto plano, y no hay que dejarse controlar por el deseo de placer (visual). 
&gt; --- [Yihui](https://bookdown.org/yihui/rmarkdown-cookbook/formatting.html)

- A menudo se compara con [LaTeX](https://www.latex-project.org/); otro lenguaje de marcado m√°s potente pero mucho m√°s complejo para producir documentos pdf.

- Existen varias versiones de Markdown desarrolladas por diferentes programadores. La que utiliza [R Markdown](https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html%23raw-tex#pandoc_markdown) es la versi√≥n de [Pandoc](https://pandoc.org/MANUAL.html) que tambi√©n permite convertir los documentos en diferentes formatos.

- Su gran sencillez lo convierte en una herramienta m√°s limitada en cuanto a la estructuraci√≥n de documentos que el html, LaTeX y los programas de tratamiento de textos. ([Ver Gruber (Creador de )](https://daringfireball.net/projects/markdown/syntax#philosophy))

- Por lo tanto, es √∫til conocer estos lenguajes (html, css, javascript, LaTeX) si quiere personalizar el formato de sus documentos (pero tenga cuidado porque el uso de html y LaTeX puede causar problemas al exportar a ciertos formatos).

&lt;!--
# Texto formateado en Markdown

## ¬øQu√© es Markdown?

&gt; Markdown es un lenguaje de marcado (formato m√°s o menos sencillo y f√°cil de editar) creado en 2004 por John Gruber con la ayuda de Aaron Swartz. Se cre√≥ con el objetivo de proporcionar una sintaxis f√°cil de leer y de escribir. 
 

![](images/balisage.png)
--&gt;

---

# Texto con formato Markdown 

## Sintaxis b√°sica de Markdown

&lt;img src="images/Markdown_ejemplo.PNG" width="95%"&gt;

[Descargar muestra](ejemplos/ejemplo_markdown.Rmd)

[Ver gu√≠a intro]()

M√°s: 

[Tutorial de Markdown](https://www.markdowntutorial.com/)

[Gu√≠a de referencia](https://rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf)


üë©‚Äçüíª üë®‚Äçüíª Ejercicio: Crear un modelo de reporte con las secciones que debes tener para un an√°lisis exploratorio. Por ejemplo: Lectura de datos, An√°lisis exploratorio univariado, y an√°lisis exploratorio multivariado. Puedes ser creativo con los nombres. 

[Ejemplo de Rmd con sintaxis markdown](ejemplos/ejemplo_markdown_sintax_guiaPrimerosPasos.Rmd)

&lt;!--
# Ejercicio 2 {-}

Comenzar a hacer un CV en Rmd con la librer√≠a
[pagedown](https://github.com/rstudio/pagedown).

1. Instalar la librer√≠a pagedown. 
     
     `remotes::install_github('rstudio/pagedown')`
    
2. Crear desde modelo: *File&gt;New File&gt;RMarkdown&gt;From Template*
3. Editar t√≠tulos y las siguientes secciones:
  - Short bio.
  - Experiencia Profesional.
  - Eduaci√≥n. 

Otra forma de hacer un CV en Rmd es con la librer√≠a [vitae.](https://github.com/mitchelloharawild/vitae). Para esto necesitar√°s tener instalado `\(LaTex\)` o instalar [Tinytex](https://yihui.org/tinytex/)
--&gt;

---

# C√≥digos de R (Chunks)

El c√≥digo R puede incluirse de dos maneras:

1. **En bloques de c√≥digo** (*chunks*): Estos inician con 
````text
```{r}   
````
, donde r indique el lenguaje a utilizar y se puede emplear otros, como python, sql, ...

.scrollable[
````md
```{r}
mean(23, 65, 43, 34, 56) # El estilo de los bloques se define mediante la opci√≥n "highlight" en el YAML
```
````
]

- Las etiquetas de bloque se pueden a√±adir con el bot√≥n *insert* o con *Ctrl + Alt + i*.
- Lo mejor es dividir el c√≥digo que genera diferentes salidas en diferentes bloques

&lt;br&gt;

2. **En el texto** (*Inline R code*) que comienza con ``r`` y termina con un acento  ` `` `. 

**C√≥digo: **

```markdown
La edad media de nuestros participantes es `r mean(23, 65, 21, 22, 26)`
``` 

**Resultados**: 

La edad media de nuestros participantes es 23.

---

# C√≥digos de R (Ejemplo)

&lt;!--&lt;div class='left' style='float:left;width:48%'&gt;--&gt;

**Texto Markdown**
  
````md
---
title: "Diamantes"
date: 2021-08-21  #o usar Sys.Date()
output: html_document
---

```{r setup, include = FALSE} 
library(ggplot2)
library(dplyr)

smaller &lt;- diamonds %&gt;% 
  filter(carat &lt;= 2.5)
```

Tenemos `r nrow(diamonds)` diamantes. Solo 
`r nrow(diamonds) - nrow(smaller)` pesan m√°s de 
&lt;span style="color:red"&gt; 2.5 quilates &lt;/span&gt;. La distribuci√≥n del resto es la siguiente:

```{r, echo = FALSE} 
smaller %&gt;% 
  ggplot(aes(carat)) + 
  geom_freqpoly(binwidth = 0.1)
```
````

&lt;!--&lt;/div&gt;--&gt;

&lt;!--&lt;div class='right' style='float:right;width:48%'&gt;--&gt;
 
**Output**
  
&lt;iframe src="https://pebiba-taller-rmd.netlify.app/ejemplos/ejemplo_basico_diamantes.html" width="80%" height="600px" data-external="1"&gt;&lt;/iframe&gt;
 
&lt;!--&lt;/div&gt;--&gt;

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

---

# C√≥digo R

## Configuraci√≥n de *chunks*.

- El "comportamiento" de los bloques de c√≥digo y la presentaci√≥n de los resultados pueden configurarse de varias maneras.

- Knitr ofrece muchas[opciones](https://rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf) (*chunck options*) que pueden a√±adirse como argumentos entre las llaves de cada bloque (cada opci√≥n debe estar separada por una coma).

````md
```{r, chunk-label, results='hide', fig.height=4} 
```
````

- Cada bloque puede tener opcionalmente un nombre (*etiqueta*), debe ser la primera opci√≥n. 

- Estas opciones controlan esencialmente c√≥mo se compila (o no) el c√≥digo de cada bloque y c√≥mo se presentan (o no) los resultados de cada bloque de c√≥digo.

- Muchos de los argumentos tienen valores l√≥gicos: TRUE O FALSE (con un valor por defecto que debe ser cambiado si no es apropiado)

- Opciones globales**: Es posible establecer los valores de los argumentos para todos los bloques desde el principio incluyendo el siguiente bloque al principio del documento (por defecto cuando se crea un nuevo archivo .Rmd):

&lt;img src="images/global.png"&gt;

---

# C√≥digo R 

## Configuraci√≥n del funcionamiento de los bloques de c√≥digo

&lt;img src="images/chunks.png" width=90%&gt;

---

# C√≥digo R

&lt;!--
- Para presentar y subrayar fragmentos de c√≥digo sin ejecutarlos, como si fueran texto, ins√©rtelos entre 2 tildes (acento grave):

` r mean(23, 65, 43, 34, 56) `


&lt;br&gt;

Para insertar un texto en un bloque resaltado: a√±ador triple tilde  ``` una l√≠nea antes y despues del texto.


```
Texto en un bloque
```

```
        Texto con sangr√≠a
```

- De lo contrario, los espacios al principio de una l√≠nea nunca se tienen en cuenta

&lt;br&gt;
--&gt;

**Algunos detalles finales: **

- Es mejor a√±adir una l√≠nea en blanco entre diferentes elementos, como un t√≠tulo y un p√°rrafo.

- Para hacer un salto de l√≠nea: termine la l√≠nea con dos espacios + Enter.

- Para a√±adir espacios adicionales entre l√≠neas/secciones, utilice la etiqueta html: `&lt;br&gt;`.

- Para incluir comentarios que no saldr√°n en el documento final, utilice comentarios en html: `&lt;!-- Esto es un comentario --&gt;`.

---

# M√°s recursos

- Yihui Xie, J. J. Allaire, Garrett Grolemund, 2020-10-14, [R Markdown: The Definitive Guide](https://bookdown.org/yihui/rmarkdown/)


- Yihui Xie, Christophe Dervieux, Emily Riederer, 2020-09-21, [R Markdown Cookbook](https://bookdown.org/yihui/rmarkdown-cookbook/)


- Yihui Xie, [knitr. Elegant, flexible, and fast dynamic report generation with R](https://yihui.org/knitr/)


- [Rmarkdown et RStudio Cheatsheets](https://rstudio.com/resources/cheatsheets/)

- RStudio, [RMarkdown Gallery](https://rmarkdown.rstudio.com/gallery.HTML)

- [Markdown Tutorial](https://www.markdowntutorial.com/)

- Karl Broman, [Writing reproducible reports. knitr with R Markdown](http://kbroman.org/Tools4RR/assets/lectures/03_knitr_Rmd_withnotes.pdf)

- Michael Clark, 2019-11-06, [Introduction to R Markdown](https://m-clark.github.io/Introduction-to-Rmarkdown/)


- Yan Holtz, 10 December 2018, [Pimp my RMD: a few tips for R Markdown](https://holtzy.github.io/Pimp-my-rmd/)


- Alison Hill ¬∑ Desir√©e De Leon, [Sharing on Short Notice. HOW TO GET YOUR TEACHING MATERIALS ONLINE WITH R MARKDOWN](https://rstudio-education.github.io/sharing-short-notice/#1)


- [Writing publications with R](http://www.geo.uzh.ch/microsite/reproducible_research/post/rr-r-publication/), Wed, Aug 17, 2016


- Mike Frank &amp; Chris Hartgerink, 2017-07-31, [RMarkdown for writing reproducible scientific papers](https://libscie.github.io/rmarkdown-workshop/handout.html#headers-tables-and-graphs)


- Marian L. Schmidt, May 11th, 2016, [Creating Dynamic Documents with RMarkdown and Knitr](https://rpubs.com/marschmi/RMarkdown)


- Thea Knowles, January 14, 2020, [RMarkdown and Bookdown for Academic Writing in R](https://rpubs.com/thealk/academic-writing)

&lt;br&gt;

**Compartir documentos en l√≠nea: **

- [RPubs](https://rpubs.com/) 
- [Netlify](https://app.netlify.com/drop)
- [Github](https://resources.github.com/whitepapers/github-and-rstudio/)
 
---

# M√°s recursos

 **Gu√≠as del curso para aprender Rmarkdown:** 

- [Intro Rmd](https://pebiba-taller-rmd.netlify.app/intro_doc.html#6_Markdown)
- [Personalizar Rmd](personalizar.html)

&lt;br&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "haddock",
"highlightLines": true,
"countIncrementalSlides": true,
"ratio": "4:3",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<script>
    // Code to change color of slide number when the current slide has presentator notes
    function change_slide_number_color() {
        
        // Check notes section of current slide
        let notas = document.querySelector('div.remark-notes'); 
        
        // Get all the slide number div tags
        let numero_diapositiva = document.querySelectorAll('div.remark-slide-number'); 
        
        // Check if the are notes in current slide
        if( !(notas.children.length === 0) ) {
            // Color current slide number when there are notes in current slide
            numero_diapositiva[slideshow.getCurrentSlideIndex()].style.color = "red";
        }
    }
    
    // Repeating this function every 0.2 seconds does not affect the web's performance 
    // (lag and loading time, for example) in any significant way, at least in my weak laptop.
    setInterval(change_slide_number_color, 200)

    // Code to fix the change of slide when scrolling and when clicking some elements
    let touchmoved;
    $('div.remark-slide-container').on('touchend', function(event){
        if(touchmoved === true) {
            // Do not change slide if scrolling took place
            event.preventDefault(); 
            event.stopPropagation();
        } else {
            // Fix for issue when clicking an image with an anchor
            if(event.target.tagName === "IMG") {
                if (event.target.parentNode.getAttribute("href").includes("https:")) {
                    // If there was no scrolling and the user clicked on an image
                    // which has an anchor, then do not change slide and open
                    // in a next window the site linked to image touched
                    event.preventDefault(); 
                    event.stopPropagation();
                    window.open(event.target.parentNode.getAttribute("href"));
                } 
            }
            
            // Fix for issue when clicking the symbol of a <details><summary> ...
            if (event.target.tagName === "SUMMARY") {
                if(event.target.parentNode.tagName === "DETAILS") {
                    event.preventDefault();
                    event.stopPropagation();
                    // Manually toggle between open or closed <details>
                    if(event.target.parentNode.open === true) {
                        event.target.parentNode.open = false;
                    } else {
                        event.target.parentNode.open = true;
                    }
                }
            }
        }
    }).on('touchmove', function(){
        touchmoved = true;
    }).on('touchstart', function(){
        touchmoved = false;
    });

    //// Code to chage between slides depending on user screen swipe ////
    // Such option is supossed to work already in Xaringan, but it was not working for me :(
    let touchstartX = 0;
    let touchendX = 0;
    let swiped = false;

    function conditional_swipe() {
        // Swiped left
        if (touchendX < touchstartX) {
            if ( (touchstartX - touchendX) > (screen.availWidth)*0.25 ) slideshow.gotoNextSlide();
        } else {
            // Swiped right, because swiped equals true
            if ( (touchendX - touchstartX) > (screen.availWidth)*0.25 ) slideshow.gotoPreviousSlide();
        }
    }
        
    $('div.remark-slide-container').on('touchstart', event => {
        touchstartX = event.changedTouches[0].screenX;
        swiped = false;
    });

    $('div.remark-slide-container').on('touchmove', function() { swiped = true; });

    $('div.remark-slide-container').on('touchend', event => {
        touchendX = event.changedTouches[0].screenX;
        if (swiped === true) conditional_swipe();
    });
</script>
<script>
  let body;
  let slidesParent, slides, headers;
  let slidesHeaders = [];
  let toc, tocDiv, tocTitle;

  document.addEventListener('DOMContentLoaded', function() {
    // Set variables
    body = document.querySelector('body');
    slidesParent = document.querySelector('div.remark-slides-area');

    // Important to search for headers only in the 
    // div.remark-slides-area, because, if not, there are 
    // headers that get added more than once to the variable "headers"
    headers = document.querySelectorAll('div.remark-slides-area h1, div.remark-slides-area h2, div.remark-slides-area h3, div.remark-slides-area h4, div.remark-slides-area h5, div.remark-slides-area h6');

    // Convert some variables to arrays
    headers = Array.prototype.slice.call(headers);
    slides = Array.prototype.slice.call(slidesParent.children);

    // Remove headers with class "no-toc"
    headers = headers.filter(element => !( element.classList.contains('no-toc') ));

    // Remove the header h1 "Help" from the Xaringan menu
    for (let i =0; i< headers.length; i++){
      if(headers[i].classList.length === 0 && headers[i].textContent === 'Help'){
        headers.splice(i,1);
      }
    }

    // Group headers via the slide they belong to
    for(let i=0; i < slides.length; i++){
      let temporal = headers.filter(header => slides.indexOf(getDivSlideContainer(header)) === i);
      if (temporal.length > 0){
        slidesHeaders.push({ 
          key: i,
          value: temporal
        });
      }  
    }

    // Create an ordered list via slidesHeaders variable
    tocDiv = document.createElement('div');
    tocDiv.id = "toc-container";

    tocTitle = document.createElement('p');
    tocTitle.textContent = "Table of contents";
    tocDiv.append(tocTitle);
    tocDiv.append(document.createElement('hr'));

    toc = document.createElement('ol');
    toc.id = "xaringan-toc";
    tocDiv.append(toc);
    slidesHeaders.forEach( (element) => {
      element.value.forEach( (header) => {
        let tocItem = document.createElement('li');
        let anchor = document.createElement('a')
        // Insert header name
        anchor.innerHTML = header.textContent;
        // Pass info about header's slide container
        anchor.setAttribute('data-slide',element.key)
        
        // Add header item to table of contents
        toc.append(tocItem);
        tocItem.append(anchor);
        
      })
    });


    ////////////////////////////////////////////////////////////
    //// Set default stylings via JavaScript instead of CSS ////
  
    // Insert tocDiv in page (but hide it), to set its styles
    body.append(tocDiv);

    document.querySelector('html').setAttribute('style',"scroll-behavior: smooth;");
    document.querySelector('#toc-container').setAttribute('style',"padding: 0; float: left; z-index: 100; position: absolute; bottom: 0; left: 0; display: block; border: 2px solid black; background-color: #F0F0F0; overflow: auto; min-width: 10vw;  height: 50vh; resize: horizontal;");
    // Hide table of contents
    tocDiv.style.display = "none";

    document.querySelector('#toc-container p').setAttribute('style',"font-size: 17px; margin-top: 8px; text-align: center; margin-bottom: -10px;");
    document.querySelector('#toc-container hr').setAttribute('style',"border: 0.1px solid gainsboro; width: 90%;");
    document.querySelector('#xaringan-toc').setAttribute('style',"margin: 0; padding: 5px 30px 10px 40px;");
    
    // Style properties for anchors of table of contents
    let css = "#xaringan-toc li a { cursor: pointer; color: blue; }"+"\n"+"#xaringan-toc li a:hover { color: red; text-decoration: underline; }";
    let style = document.createElement('style');
    if (style.styleSheet) {
        style.styleSheet.cssText = css;
    } else {
        style.appendChild(document.createTextNode(css));
    }
    document.querySelector('head').appendChild(style);
    ////////////////////////////////////////////////////////////


    // Pres key t to display Table of Contents
    document.addEventListener('keydown', function(event) {
      if (event.key === "t") {
        if (event.repeat) {
          return;
        }

        // Update opacity, line-through and font-weight of toc's anchors
        updateTocAnchorsStyle();

        //// Best alternative I've found so far to insert table of contents ////
        // slides[slideshow.getCurrentSlideIndex()].children[0].append(tocDiv);
        // Such alternative has the issue that sometimes double the key press
        // is required in order to show de TOC, due to it being "hidden"
        // after changing slide from a slide where the TOC was displayed.
        
        // Default toc stylings
        tocDiv.style.top = '';
        tocDiv.style.width = 'auto';
        tocDiv.style.height = '50vh';

        if(tocDiv.style.display === 'block') {
          tocDiv.style.display = 'none';
        } else {
          tocDiv.style.display = 'block';
          // Insert table of contents on page
          body.append(tocDiv);
        }

        event.preventDefault();
        event.stopPropagation();
      }
    });

    // Make anchors in Table of Contents activate appropriate slide change when clicked
    toc.children.forEach( (item) => {
      item.firstChild.addEventListener('click', function(event) {
        // Go to appropriate slide
        slideshow.gotoSlide(1+parseInt(this.dataset.slide));

        // Close and open table of contents in order to activate
        // line-through and opacity change of previous anchors
        switch (tocDiv.style.height) {
          case '100vh':
            document.dispatchEvent(new KeyboardEvent('keydown',{'key':'s'}));
            document.dispatchEvent(new KeyboardEvent('keydown',{'key':'s'}));
            break;
          default:
            // We assume the height is either 50vh or some custom one aparat from 100vh
            document.dispatchEvent(new KeyboardEvent('keydown',{'key':'t'}));
            document.dispatchEvent(new KeyboardEvent('keydown',{'key':'t'}));
            break;
        }

        // Scroll the table of contents to the anchor just clicked
        this.scrollIntoView();

        event.preventDefault();
        event.stopPropagation();
      })
    });

    // Press s in order to stick table of contents to the left empty side
    // of Xaringan slides, if there is any such empty space
    document.addEventListener('keydown', function() {
      if (event.key === "s") {
        if (event.repeat) {
          return;
        }

        // Update opacity, line-through and font-weight of toc's anchors
        updateTocAnchorsStyle();

        // Check if there is empty space where to insert the toc
        let someSlide = document.querySelector('div.remark-slide-scaler');
        if (parseInt(someSlide.style.left.slice(0,-2)) === 0) {
        } else {
          tocDiv.style.width = String(Math.round(parseInt(someSlide.style.left.slice(0,-2))*1))+'px';
          tocDiv.style.height = '100vh';
          tocDiv.style.top = '0';
        }

        if(tocDiv.style.display === 'block') {
          tocDiv.style.display = 'none';
        } else {
          tocDiv.style.display = 'block';
          // Insert table of contents on page
          body.append(tocDiv);
        }
      }
    });

  });

  function getDivSlideContainer(header) {
    let temporal = header;
    while (! temporal.parentNode.classList.contains('remark-slide-container')) {
      temporal = temporal.parentNode;
    }
    return temporal.parentNode;
  }

  let pushSlidesToRightCounter = 0;
  function pushSlidesToRight() {
    if (pushSlidesToRightCounter === 0) {
      let slideScalers = document.querySelectorAll('div.remark-slide-scaler');
      slideScalers = Array.prototype.slice.call(slideScalers);
      
      // Duplicate empty space to the left of slide
      slideScalers.forEach(slide => {
        let temporal = parseInt(slide.style.left.slice(0,-2));
        temporal = 2*temporal;
        slide.style.left = String(temporal)+'px';
      });
    }
    pushSlidesToRightCounter += 1;
  }

  $(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange', async function() {
    // Whenever a change from or to fullscreen window occurs,
    // wait a while (because slides take a little time to get resized)
    // and do the following:

    await sleep(200);

    // Reset counter for pushing slides to the right
    pushSlidesToRightCounter = 0;

    // Resize the toc even if it was not open during this event
    if (tocDiv.style.height === '100vh') {
      document.dispatchEvent(new KeyboardEvent('keydown',{'key':'s'}));
      document.dispatchEvent(new KeyboardEvent('keydown',{'key':'s'}));
    } else {
      document.dispatchEvent(new KeyboardEvent('keydown',{'key':'t'}));
      document.dispatchEvent(new KeyboardEvent('keydown',{'key':'t'}));
    }
  });

  function updateTocAnchorsStyle() {
    // Update opacity, line-through and font-weight of toc's anchors
    let currentSlide = slideshow.getCurrentSlideIndex();
    toc.children.forEach( (element) => {
      if ( currentSlide > 0 ) {
        if ( parseInt(element.firstChild.dataset.slide) < currentSlide ) {
          element.firstChild.style.opacity = 0.5;
          element.firstChild.style.fontWeight = 400;
          element.firstChild.style.textDecoration = "line-through";
        } else {
          if ( parseInt(element.firstChild.dataset.slide) === currentSlide ) {
            element.firstChild.style.opacity = 1;
            element.firstChild.style.fontWeight = 900;
            element.firstChild.style.textDecoration = "";
          } else {
            element.firstChild.style.opacity = 1;
            element.firstChild.style.fontWeight = 400;
            element.firstChild.style.textDecoration = "";

          }
        }
      } else {
        // Currrent slide is the first one, so undo anchor style changes
        element.firstChild.style.opacity = 1;
        element.firstChild.style.fontWeight = 400;
        element.firstChild.style.textDecoration = "";
        
        // Bold anchors from first slide
        if (element.firstChild.dataset.slide === '0') {
          element.firstChild.style.fontWeight = 900;
        }
      }
    });
  }

  // Define the standard sleep() function
  function sleep(miliseconds) {
    return new Promise(resolve => setTimeout(resolve, miliseconds));
  }
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
